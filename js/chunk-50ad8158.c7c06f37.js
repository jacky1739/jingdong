(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50ad8158"],{"07ea":function(e,t,n){},"0eb4":function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var s=n("7a23"),a={class:"toast"};function r(e,t,n,r,c,o){return Object(s["t"])(),Object(s["f"])("div",a,Object(s["C"])(n.message),1)}var c={props:["message"]},o=function(){var e=Object(s["x"])({show:!1,toastMessage:""}),t=function(t){e.show=!0,e.toastMessage=t,setTimeout((function(){e.show=!1,e.toastMessage=""}),2e3)},n=Object(s["D"])(e),a=n.show,r=n.toastMessage;return{show:a,toastMessage:r,showToast:t}},u=(n("5a4e"),n("d959")),i=n.n(u);const p=i()(c,[["render",r],["__scopeId","data-v-47a777cf"]]);t["a"]=p},"5a4e":function(e,t,n){"use strict";n("07ea")},"9c61":function(e,t,n){},ede4:function(e,t,n){"use strict";n.r(t);var s=n("7a23"),a=function(e){return Object(s["w"])("data-v-5cffcbd3"),e=e(),Object(s["u"])(),e},r={class:"wrapper"},c=a((function(){return Object(s["g"])("img",{class:"wrapper__img",src:"http://www.dell-lee.com/imgs/vue3/user.png",alt:""},null,-1)})),o={class:"wrapper__input"},u={class:"wrapper__input"},i={class:"wrapper__login-link"},p=Object(s["i"])("立即註冊");function l(e,t,n,a,l,d){var b=Object(s["A"])("router-link"),w=Object(s["A"])("Toast");return Object(s["t"])(),Object(s["f"])("div",r,[c,Object(s["g"])("div",o,[Object(s["K"])(Object(s["g"])("input",{class:"wrapper__input__content",type:"text",placeholder:"請輸入用戶名","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.username=e})},null,512),[[s["F"],a.username]])]),Object(s["g"])("div",u,[Object(s["K"])(Object(s["g"])("input",{class:"wrapper__input__content",type:"password",placeholder:"請輸入密碼","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.password=e}),autocomplete:"new-password"},null,512),[[s["F"],a.password]])]),Object(s["g"])("div",{class:"wrapper__login-button",onClick:t[2]||(t[2]=function(){return a.handleLogin&&a.handleLogin.apply(a,arguments)})},"登入"),Object(s["g"])("div",i,[Object(s["j"])(b,{to:"/register"},{default:Object(s["J"])((function(){return[p]})),_:1})]),a.show?(Object(s["t"])(),Object(s["d"])(w,{key:0,message:a.toastMessage},null,8,["message"])):Object(s["e"])("",!0)])}var d=n("1da1"),b=(n("96cf"),n("6c02")),w=n("b775"),g=n("0eb4"),f=function(){var e=Object(b["d"])(),t=function(){e.push({name:"Register"})};return{handleRegisterClick:t}},j={name:"Login",components:{Toast:g["a"]},setup:function(){var e=Object(b["d"])(),t=f(),n=t.handleRegisterClick,a=Object(s["x"])({username:"",password:""}),r=Object(s["D"])(a),c=r.username,o=r.password,u=Object(g["b"])(),i=u.show,p=u.toastMessage,l=u.showToast,j=function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(){var n,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,n=a.username,s=a.password,""!==n&&""!==s){t.next=6;break}return t.abrupt("return",l("請輸入帳號和密碼"));case 6:return t.next=8,Object(w["b"])("/api/user/login",{username:a.username,password:a.password});case 8:r=t.sent,0===r.errno?(localStorage.isLogin=!0,e.push({name:"Home"}),l("登陸成功"),console.log(p)):l("登陆失败");case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),l("请求失败");case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}();return{username:c,password:o,handleLogin:j,handleRegisterClick:n,show:i,toastMessage:p}}},O=(n("fe44"),n("d959")),m=n.n(O);const h=m()(j,[["render",l],["__scopeId","data-v-5cffcbd3"]]);t["default"]=h},fe44:function(e,t,n){"use strict";n("9c61")}}]);
//# sourceMappingURL=chunk-50ad8158.c7c06f37.js.map