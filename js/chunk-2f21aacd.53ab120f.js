(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f21aacd"],{1148:function(t,e,c){"use strict";var n=c("da84"),r=c("5926"),a=c("577e"),i=c("1d80"),o=n.RangeError;t.exports=function(t){var e=a(i(this)),c="",n=r(t);if(n<0||n==1/0)throw o("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(c+=e);return c}},1408:function(t,e,c){"use strict";c("8344")},"3e7f":function(t,e,c){"use strict";c("fad9")},"408a":function(t,e,c){var n=c("e330");t.exports=n(1..valueOf)},"5f6f":function(t,e,c){"use strict";c.r(e);var n=c("7a23"),r=function(t){return Object(n["w"])("data-v-85990ae2"),t=t(),Object(n["u"])(),t},a={class:"wrapper"},i={class:"search"},o={class:"search__back"},s=r((function(){return Object(n["g"])("div",{class:"search__content"},[Object(n["g"])("span",{class:"material-icons search__content__icon"},"search"),Object(n["g"])("input",{class:"search__content__input",placeholder:"請輸入商品名稱"})],-1)}));function u(t,e,c,r,u,l){var b=Object(n["A"])("ShopInfo"),_=Object(n["A"])("Content"),d=Object(n["A"])("Cart");return Object(n["t"])(),Object(n["f"])("div",a,[Object(n["g"])("div",i,[Object(n["g"])("div",o,[Object(n["g"])("span",{class:"material-icons",onClick:e[0]||(e[0]=function(){return r.handleBackClick&&r.handleBackClick.apply(r,arguments)})},"chevron_left")]),s]),Object(n["K"])(Object(n["j"])(b,{item:r.item,hideBorder:!0},null,8,["item"]),[[n["G"],r.item.imgUrl]]),Object(n["j"])(_),Object(n["j"])(d)])}var l=c("1da1"),b=(c("96cf"),c("6c02")),_=c("d7d0"),d=c("b775"),f=(c("b0c0"),function(t){return Object(n["w"])("data-v-e5ff1f92"),t=t(),Object(n["u"])(),t}),p={class:"content"},j={class:"category"},O=["onClick"],g={class:"product"},m=["src"],h={class:"product__item__detail"},v={class:"product__item__title"},C={class:"product__item__sales"},k={class:"product__item__price"},I=f((function(){return Object(n["g"])("span",{class:"product__item__yen"},"¥",-1)})),w={class:"product__item__origin"},x={class:"product__number"},y=["onClick"],L=["onClick"];function T(t,e,c,r,a,i){return Object(n["t"])(),Object(n["f"])("div",p,[Object(n["g"])("ul",j,[(Object(n["t"])(!0),Object(n["f"])(n["a"],null,Object(n["z"])(r.categories,(function(t){return Object(n["t"])(),Object(n["f"])("li",{class:Object(n["p"])({category__item:!0,"category__item--active":r.currentTab===t.tab}),key:t,onClick:function(){return r.handleTabClick(t.tab)}},Object(n["C"])(t.name),11,O)})),128))]),Object(n["g"])("div",g,[(Object(n["t"])(!0),Object(n["f"])(n["a"],null,Object(n["z"])(r.list,(function(t){var e,c,a;return Object(n["t"])(),Object(n["f"])("div",{class:"product__item",key:t._id},[Object(n["g"])("img",{class:"product__item__img",src:t.imgUrl,alt:""},null,8,m),Object(n["g"])("div",h,[Object(n["g"])("h4",v,Object(n["C"])(t.name),1),Object(n["g"])("p",C,"月售 "+Object(n["C"])(t.sales)+" 件",1),Object(n["g"])("p",k,[I,Object(n["i"])(Object(n["C"])(t.price)+" ",1),Object(n["g"])("span",w,"¥"+Object(n["C"])(t.oldPrice),1)])]),Object(n["g"])("div",x,[Object(n["g"])("span",{class:"product__number__minus",onClick:function(){r.changeCartItemInfo(r.shopId,t._id,t,-1)}},"-",8,y),Object(n["i"])(" "+Object(n["C"])((null===(e=r.cartList)||void 0===e||null===(c=e[r.shopId])||void 0===c||null===(a=c[t._id])||void 0===a?void 0:a.count)||0)+" ",1),Object(n["g"])("span",{class:"product__number__plus",onClick:function(){r.changeCartItemInfo(r.shopId,t._id,t,1)}},"+",8,L)])])})),128))])])}var B=c("5502"),S=[{name:"全部商品",tab:"all"},{name:"秒杀",tab:"seckill"},{name:"新鲜水果",tab:"fruit"}],D=function(){var t=Object(n["y"])(S[0].tab),e=function(e){t.value=e,console.log(t.value)};return{currentTab:t,handleTabClick:e}},R=function(t,e){var c=Object(n["x"])({list:[]}),r=function(){var r=Object(l["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(d["a"])("/api/shop/".concat(e,"/products"),{tab:t.value});case 2:a=r.sent,0===a.errno&&a.data.length&&(c.list=a.data),console.log(n["I"],a.data);case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();Object(n["I"])((function(){r()}));var a=Object(n["D"])(c),i=a.list;return{list:i}},F=function(){var t=Object(B["b"])(),e=Object(n["D"])(t.state),c=e.cartList,r=function(e,c,n,r){t.commit("changeCartItemInfo",{shopId:e,productId:c,productInfo:n,num:r}),console.log(e,c,n,r)};return{cartList:c,changeCartItemInfo:r}},U={name:"Content",setup:function(){var t=Object(b["c"])(),e=t.params.id,c=D(),n=c.currentTab,r=c.handleTabClick,a=F(),i=a.cartList,o=a.changeCartItemInfo,s=R(n,e),u=s.list;return console.log(u),{list:u,categories:S,handleTabClick:r,currentTab:n,cartList:i,shopId:e,changeCartItemInfo:o}}},z=(c("611f"),c("d959")),A=c.n(z);const E=A()(U,[["render",T],["__scopeId","data-v-e5ff1f92"]]);var N=E,P=function(t){return Object(n["w"])("data-v-6524cd74"),t=t(),Object(n["u"])(),t},J={class:"cart"},G={class:"product"},K=["src"],M={class:"product__item__detail"},W={class:"product__item__title"},X={class:"product__item__price"},q=P((function(){return Object(n["g"])("span",{class:"product__item__yen"},"¥",-1)})),H={class:"product__item__origin"},Q={class:"product__number"},V=["onClick"],Y=["onClick"],Z={class:"check"},$={class:"check__icon"},tt=P((function(){return Object(n["g"])("img",{class:"check__icon__img",src:"http://www.dell-lee.com/imgs/vue3/basket.png",alt:""},null,-1)})),et={class:"check__icon__tag"},ct={class:"check__info"},nt=Object(n["i"])(" 總計: "),rt={class:"check__info__price"},at=P((function(){return Object(n["g"])("div",{class:"check__btn"}," 去結算 ",-1)}));function it(t,e,c,r,a,i){return Object(n["t"])(),Object(n["f"])("div",J,[Object(n["g"])("div",G,[(Object(n["t"])(!0),Object(n["f"])(n["a"],null,Object(n["z"])(r.productList,(function(e){return Object(n["t"])(),Object(n["f"])("div",{class:"product__item",key:e._id},[Object(n["g"])("img",{class:"product__item__img",src:e.imgUrl,alt:""},null,8,K),Object(n["g"])("div",M,[Object(n["g"])("h4",W,Object(n["C"])(e.name),1),Object(n["g"])("p",X,[q,Object(n["i"])(Object(n["C"])(e.price)+" ",1),Object(n["g"])("span",H,"¥"+Object(n["C"])(e.oldPrice),1)])]),Object(n["g"])("div",Q,[Object(n["g"])("span",{class:"product__number__minus",onClick:function(){t.changeCartItemInfo(r.shopId,e._id,e,-1)}},"-",8,V),Object(n["i"])(" "+Object(n["C"])(e.count||0)+" ",1),Object(n["g"])("span",{class:"product__number__plus",onClick:function(){t.changeCartItemInfo(r.shopId,e._id,e,1)}},"+",8,Y)])])})),128))]),Object(n["g"])("div",Z,[Object(n["g"])("div",$,[tt,Object(n["g"])("div",et,Object(n["C"])(r.total),1)]),Object(n["g"])("div",ct,[nt,Object(n["g"])("span",rt,"¥ "+Object(n["C"])(r.price),1)]),at])])}c("b680");var ot=function(t,e){var c=Object(n["b"])((function(){var c=e[t],n=0;if(c)for(var r in c){var a=c[r];n+=a.count}return n})),r=Object(n["b"])((function(){var c=e[t],n=0;if(c)for(var r in c){var a=c[r];n+=a.count*a.price}return n.toFixed(2)})),a=Object(n["b"])((function(){var c=e[t]||[];return c}));return{total:c,price:r,productList:a}},st={name:"Cart",setup:function(){var t=Object(B["b"])(),e=Object(b["c"])(),c=e.params.id,n=t.state.cartList,r=ot(c,n),a=r.total,i=r.price,o=r.productList;return{total:a,price:i,productList:o,cartList:n,shopId:c}}};c("3e7f");const ut=A()(st,[["render",it],["__scopeId","data-v-6524cd74"]]);var lt=ut,bt=function(){var t=Object(n["x"])({item:{}}),e=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var c,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=Object(b["c"])(),e.next=3,Object(d["a"])("/api/shop/".concat(c.params.id));case 3:n=e.sent,0===n.errno&&n.data&&(t.item=n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=Object(n["D"])(t),r=c.item;return console.log(r),{item:r,getItemData:e}},_t=function(){var t=Object(b["d"])(),e=function(){console.log("click"),t.back()};return{handleBackClick:e}},dt={name:"Shop",components:{ShopInfo:_["a"],Content:N,Cart:lt},setup:function(){var t=bt(),e=t.item,c=t.getItemData,n=_t(),r=n.handleBackClick;return c(),{item:e,handleBackClick:r,getItemData:c}}};c("1408");const ft=A()(dt,[["render",u],["__scopeId","data-v-85990ae2"]]);e["default"]=ft},"611f":function(t,e,c){"use strict";c("7f1d")},"7eda":function(t,e,c){},"7f1d":function(t,e,c){},8344:function(t,e,c){},"8eba":function(t,e,c){"use strict";c("7eda")},b0c0:function(t,e,c){var n=c("83ab"),r=c("5e77").EXISTS,a=c("e330"),i=c("9bf2").f,o=Function.prototype,s=a(o.toString),u=/^\s*function ([^ (]*)/,l=a(u.exec),b="name";n&&!r&&i(o,b,{configurable:!0,get:function(){try{return l(u,s(this))[1]}catch(t){return""}}})},b680:function(t,e,c){"use strict";var n=c("23e7"),r=c("da84"),a=c("e330"),i=c("5926"),o=c("408a"),s=c("1148"),u=c("d039"),l=r.RangeError,b=r.String,_=Math.floor,d=a(s),f=a("".slice),p=a(1..toFixed),j=function(t,e,c){return 0===e?c:e%2===1?j(t,e-1,c*t):j(t*t,e/2,c)},O=function(t){var e=0,c=t;while(c>=4096)e+=12,c/=4096;while(c>=2)e+=1,c/=2;return e},g=function(t,e,c){var n=-1,r=c;while(++n<6)r+=e*t[n],t[n]=r%1e7,r=_(r/1e7)},m=function(t,e){var c=6,n=0;while(--c>=0)n+=t[c],t[c]=_(n/e),n=n%e*1e7},h=function(t){var e=6,c="";while(--e>=0)if(""!==c||0===e||0!==t[e]){var n=b(t[e]);c=""===c?n:c+d("0",7-n.length)+n}return c},v=u((function(){return"0.000"!==p(8e-5,3)||"1"!==p(.9,0)||"1.25"!==p(1.255,2)||"1000000000000000128"!==p(0xde0b6b3a7640080,0)}))||!u((function(){p({})}));n({target:"Number",proto:!0,forced:v},{toFixed:function(t){var e,c,n,r,a=o(this),s=i(t),u=[0,0,0,0,0,0],_="",p="0";if(s<0||s>20)throw l("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return b(a);if(a<0&&(_="-",a=-a),a>1e-21)if(e=O(a*j(2,69,1))-69,c=e<0?a*j(2,-e,1):a/j(2,e,1),c*=4503599627370496,e=52-e,e>0){g(u,0,c),n=s;while(n>=7)g(u,1e7,0),n-=7;g(u,j(10,n,1),0),n=e-1;while(n>=23)m(u,1<<23),n-=23;m(u,1<<n),g(u,1,1),m(u,2),p=h(u)}else g(u,0,c),g(u,1<<-e,0),p=h(u)+d("0",s);return s>0?(r=p.length,p=_+(r<=s?"0."+d("0",s-r)+p:f(p,0,r-s)+"."+f(p,r-s))):p=_+p,p}})},d7d0:function(t,e,c){"use strict";c("b0c0");var n=c("7a23"),r={class:"shop"},a=["src"],i={class:"shop__content__title"},o={class:"shop__content__tags"},s={class:"shop__content__tag"},u={class:"shop__content__tag"},l={class:"shop__content__tag"},b={class:"shop__content__highlight"};function _(t,e,c,_,d,f){return Object(n["t"])(),Object(n["f"])("div",r,[Object(n["g"])("img",{class:"shop__img",src:c.item.imgUrl,alt:""},null,8,a),Object(n["g"])("div",{class:Object(n["p"])(["shop__content",{shop__content:!0,"shop__content--bordered":!c.hideBorder}])},[Object(n["g"])("div",i,Object(n["C"])(c.item.name),1),Object(n["g"])("div",o,[Object(n["g"])("span",s,"月售: "+Object(n["C"])(c.item.sales),1),Object(n["g"])("span",u,"起送: "+Object(n["C"])(c.item.expressLimit),1),Object(n["g"])("span",l,"基礎運費: "+Object(n["C"])(c.item.expressPrice),1)]),Object(n["g"])("p",b,Object(n["C"])(c.item.slogan),1)],2)])}var d={name:"ShopInfo",props:["item","hideBorder"]},f=(c("8eba"),c("d959")),p=c.n(f);const j=p()(d,[["render",_],["__scopeId","data-v-2a315eff"]]);e["a"]=j},fad9:function(t,e,c){}}]);
//# sourceMappingURL=chunk-2f21aacd.53ab120f.js.map