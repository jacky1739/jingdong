{"version":3,"sources":["webpack:///./src/components/Toast.vue","webpack:///./src/components/Toast.vue?74ff","webpack:///./src/views/login/Register.vue?1d7a","webpack:///./src/components/Toast.vue?177e","webpack:///./src/views/login/Register.vue","webpack:///./src/views/login/Register.vue?f0a4"],"names":["class","message","props","toastData","show","toastMessage","showToast","setTimeout","__exports__","render","src","alt","type","placeholder","username","password","autocomplete","ensurement","handleRegister","to","name","components","Toast","setup","router","data","handleClick","push","result","console","log","errno","localStorage","isLogin"],"mappings":"gMACOA,MAAM,S,gDAAX,eAAsC,MAAtC,EAAsC,eAAhB,EAAAC,SAAO,GAMhB,OACbC,MAAO,CAAC,YAGG,EAAiB,WAC5B,IAAMC,EAAY,eAAS,CACzBC,MAAM,EACNC,aAAc,KAGVC,EAAY,SAACL,GACjBE,EAAUC,MAAO,EACjBD,EAAUE,aAAeJ,EACzBM,YAAW,WACTJ,EAAUC,MAAO,EACjBD,EAAUE,aAAe,KACxB,MAGL,EAA+B,eAAOF,GAA9BC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,aAEd,MAAO,CAAED,OAAMC,eAAcC,c,iCCrB/B,MAAME,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,U,oCCTf,W,oCCAA,W,6ICCOT,MAAM,W,uBACT,eAAkF,OAA7EA,MAAM,eAAeU,IAAI,6CAA6CC,IAAI,I,eAC1EX,MAAM,kB,GAINA,MAAM,kB,GAGNA,MAAM,kB,GAINA,MAAM,uB,iBACmB,W,8GAdhC,eAgBM,MAhBN,EAgBM,CAfJ,EACA,eAEM,MAFN,EAEM,C,eADF,eAA6F,SAAtFA,MAAM,2BAA2BY,KAAK,OAAOC,YAAY,U,qDAAmB,EAAAC,SAAQ,K,mBAAR,EAAAA,cAE1E,EAAAV,M,iBAAb,eAA6C,G,MAAzBH,QAAS,EAAAI,c,2CAC7B,eAEM,MAFN,EAEM,C,eADF,eAA2H,SAApHL,MAAM,2BAA2BY,KAAK,WAAWC,YAAY,Q,qDAAiB,EAAAE,SAAQ,IAAEC,aAAa,gB,mBAAvB,EAAAD,cAEzF,eAEM,MAFN,EAEM,C,eADF,eAAgG,SAAzFf,MAAM,2BAA2BY,KAAK,WAAWC,YAAY,O,qDAAgB,EAAAI,WAAU,K,mBAAV,EAAAA,gBAExF,eAAmE,OAA9DjB,MAAM,wBAAyB,QAAK,8BAAE,EAAAkB,gBAAA,EAAAA,eAAA,sBAAgB,MAC3D,eAEM,MAFN,EAEM,CADJ,eAAiD,GAAnCC,GAAI,UAAQ,C,wBAAE,iBAAO,C,gFAW1B,GACbC,KAAM,QACNC,WAAY,CAAEC,QAAA,MACdC,MAHa,WAIX,IAAMC,EAAS,iBACf,EAA0C,iBAAlCpB,EAAR,EAAQA,KAAMC,EAAd,EAAcA,aAAcC,EAA5B,EAA4BA,UAEtBmB,EAAO,eAAS,CACpBX,SAAU,GACVC,SAAU,GACVE,WAAY,KAEd,EAA2C,eAAOQ,GAA1CX,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,SAAUE,EAA5B,EAA4BA,WAGtBS,EAAc,WAClBF,EAAOG,KAAK,CAAEP,KAAM,WAIhBF,EAAa,yDAAI,6GACbJ,EAAmCW,EAAnCX,SAAUC,EAAyBU,EAAzBV,SAAUE,EAAeQ,EAAfR,WAEX,KAAbH,GAAgC,KAAbC,GAAkC,KAAfE,EAHrB,yCAIZX,EAAU,YAJE,gCAQI,eAAK,qBAAsB,CAC9CQ,SAAUW,EAAKX,SACfC,SAAUU,EAAKV,WAVA,OAQXa,EARW,OAYjBC,QAAQC,IAAIF,EAAOG,OAEE,IAAjBH,EAAOG,OACTC,aAAaC,SAAU,EACvBT,EAAOG,KAAK,CAAEP,KAAM,UACpBd,EAAU,SAEVA,EAAU,QAnBK,qDAsBjBA,EAAU,QAtBO,0DAAJ,qDA2BnB,MAAO,CAAEoB,cAAaR,iBAAgBd,OAAMC,eAAcC,YAAWQ,WAAUC,WAAUE,gB,iCClE7F,MAAMT,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB","file":"js/chunk-320dac95.bf034efa.js","sourcesContent":["<template>\r\n  <div class=\"toast\">{{ message }}</div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs } from 'vue'\r\n\r\nexport default {\r\n  props: ['message']\r\n}\r\n\r\nexport const useToastEffect = () => {\r\n  const toastData = reactive({\r\n    show: false,\r\n    toastMessage: ''\r\n  })\r\n\r\n  const showToast = (message) => {\r\n    toastData.show = true\r\n    toastData.toastMessage = message\r\n    setTimeout(() => {\r\n      toastData.show = false\r\n      toastData.toastMessage = ''\r\n    }, 2000)\r\n  }\r\n\r\n  const { show, toastMessage } = toRefs(toastData)\r\n\r\n  return { show, toastMessage, showToast }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../style/variables';\r\n\r\n.toast {\r\n  position: fixed;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n  padding: .1rem;\r\n  background: rgba(0, 0, 0, .35);\r\n  border-radius: .05rem;\r\n  color: $bgColor;\r\n}\r\n</style>\r\n","import { render } from \"./Toast.vue?vue&type=template&id=47a777cf&scoped=true\"\nimport script from \"./Toast.vue?vue&type=script&lang=js\"\nexport * from \"./Toast.vue?vue&type=script&lang=js\"\n\nimport \"./Toast.vue?vue&type=style&index=0&id=47a777cf&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\Jacky Hu\\\\Desktop\\\\京東\\\\jingdong\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-47a777cf\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Register.vue?vue&type=style&index=0&id=3725cb88&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Toast.vue?vue&type=style&index=0&id=47a777cf&lang=scss&scoped=true\"","<template>\r\n  <div class=\"wrapper\">\r\n    <img class=\"wrapper__img\" src=\"http://www.dell-lee.com/imgs/vue3/user.png\" alt=\"\">\r\n    <div class=\"wrapper__input\">\r\n        <input class=\"wrapper__input__coontent\" type=\"text\" placeholder=\"請輸入手機號碼\" v-model=\"username\">\r\n    </div>\r\n    <Toast v-if=\"show\" :message=\"toastMessage\" />\r\n    <div class=\"wrapper__input\">\r\n        <input class=\"wrapper__input__coontent\" type=\"password\" placeholder=\"請輸入密碼\" v-model=\"password\" autocomplete=\"new-password\">\r\n    </div>\r\n    <div class=\"wrapper__input\">\r\n        <input class=\"wrapper__input__coontent\" type=\"password\" placeholder=\"確認密碼\" v-model=\"ensurement\">\r\n    </div>\r\n    <div class=\"wrapper__login-button\" @click=\"handleRegister\">註冊</div>\r\n    <div class=\"wrapper__login-link\">\r\n      <router-link :to=\"'/login'\">已有帳號去登錄</router-link>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useRouter } from 'vue-router'\r\nimport { post } from '../../utils/request'\r\nimport { reactive, toRefs } from 'vue'\r\nimport Toast, { useToastEffect } from '../../components/Toast'\r\n\r\nexport default {\r\n  name: 'Login',\r\n  components: { Toast },\r\n  setup () {\r\n    const router = useRouter()\r\n    const { show, toastMessage, showToast } = useToastEffect()\r\n    // 註冊相關data\r\n    const data = reactive({\r\n      username: '',\r\n      password: '',\r\n      ensurement: ''\r\n    })\r\n    const { username, password, ensurement } = toRefs(data)\r\n\r\n    // router 跳轉頁面\r\n    const handleClick = () => {\r\n      router.push({ name: 'Login' })\r\n    }\r\n\r\n    // axios 取得資料相關邏輯\r\n    const handleRegister = async () => {\r\n      const { username, password, ensurement } = data\r\n      // 判斷註冊資料是否完整\r\n      if (username === '' || password === '' || ensurement === '') {\r\n        return showToast('請輸入完整資料')\r\n      } else {\r\n        try {\r\n          // 使用 axios 發送註冊資料\r\n          const result = await post('/api/user/register', {\r\n            username: data.username,\r\n            password: data.password\r\n          })\r\n          console.log(result.errno)\r\n          // 判斷回傳資料邏輯\r\n          if (result.errno === 0) {\r\n            localStorage.isLogin = true\r\n            router.push({ name: 'Login' })\r\n            showToast('註冊成功')\r\n          } else {\r\n            showToast('註冊失败')\r\n          }\r\n        } catch {\r\n          showToast('註冊失败')\r\n        }\r\n      }\r\n    }\r\n\r\n    return { handleClick, handleRegister, show, toastMessage, showToast, username, password, ensurement }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/variables';\r\n\r\n.wrapper {\r\n  margin: auto;\r\n  display: grid;\r\n  justify-content: center;\r\n  align-content: center;\r\n  &__img {\r\n      display: block;\r\n      margin: 0 auto .4rem auto;\r\n      width: .66rem;\r\n      height: .66rem;\r\n  }\r\n  &__input {\r\n      height: .48rem;\r\n      margin: 0 .4rem .16rem .4rem;\r\n      padding: 0 .16rem;\r\n      background: #F9F9F9;\r\n      border: 1px solid rbga(0,0,0,0.10);\r\n      border-radius: 6px;\r\n      &__coontent {\r\n          line-height: .48rem;\r\n          border: none;\r\n          outline: none;\r\n          width: 100%;\r\n          background: none;\r\n          font-size: .16rem;\r\n          color: $content-notice-fontcolor;\r\n          &::placeholder {\r\n              color: $content-notice-fontcolor;\r\n          }\r\n      }\r\n  }\r\n  &__login-button {\r\n      line-height: .48rem;\r\n      margin: .32rem .4rem .16rem .4rem;\r\n      background: $btn-bgColor;\r\n      box-shadow: 0 .04rem .08rem 0 rgba(0,145,255,0.32);\r\n      border-radius: 0.04rem;\r\n      border-radius: 0.04rem;\r\n      color: $bgColor;\r\n      font-size: .16rem;\r\n      text-align: center;\r\n  }\r\n  &__login-link {\r\n      text-align: center;\r\n      font-size: .14rem;\r\n      color: $content-notice-fontcolor;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Register.vue?vue&type=template&id=3725cb88&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=3725cb88&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\Jacky Hu\\\\Desktop\\\\京東\\\\jingdong\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3725cb88\"]])\n\nexport default __exports__"],"sourceRoot":""}